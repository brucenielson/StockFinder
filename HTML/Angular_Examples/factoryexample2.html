<!DOCTYPE html>
<html lang="en">
<head>
    <title>AngularJS Routes example</title>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.6/angular.min.js"></script>
</head>

<body ng-app="sampleApp">

<a href="#/route1">Route 1</a><br/>
<a href="#/route2">Route 2</a><br/>


<div data-ng-view=""></div>

<script>
    var module = angular.module('sampleApp', []);

    module.config(['$routeProvider', function ($routeProvider) {
        console.log("in router");
        $routeProvider

            .when("/", {
                templateUrl: "view1.html", 
                controller: "SimpleController"})
            .when('/route1/', {
                templateUrl: 'view1.html',
                controller: 'SimpleController'
            })
            .when('/route2/', {
                templateUrl: 'view2.html',
                controller: 'SimpleController'
            })
            .otherwise({
                redirectTo: '/'
            });
        }]);

    module.controller("SimpleController", function($scope, simpleFactory) {
        $scope.customers = simpleFactory.getCustomers();

        $scope.addCustomer = function(){
        console.log('In add Customer');
        $scope.customers.push({
                name: $scope.newCustomer.name, 
                city: $scope.newCustomer.city
            });
        };

    })

    module.factory('simpleFactory', function(){
        var customers = [
                    {name:'John Smith', city:'Phoenix'}, 
                    {name: 'John Doe', city:'New York'}, 
                    {name:'Jane Doe', city:'San Francisco'}
                ];

        var factory = {};
        factory.getCustomers = function() {
            return customers;
        }

        return factory;
    });


</script>



</body>
</html>    